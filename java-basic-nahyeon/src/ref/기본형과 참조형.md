# 기본형과 참조형

## 개념
변수의 데이터 타입을 크게 2가지로 분류할 수 있다.  

기본형(Primitive Type): `int` , `long` , `double` , `boolean` 처럼 변수에 사용할 값을 직접 넣을 수 있는 데이터 타입을 기본형이라 한다.  

참조형(Reference Type): `Student student1` , `int[] students` 와 같이 데이터에 접근하기 위한 참조(주소)를 저장하는 데이터 타입을 참조형이라 한다. 참조형은 객체 또는 배열에 사용된다.

기본형 변수 -> 직접 사용할 수 있는 값 보관  
참조형 변수 -> 저장된 주소를 보관

## 기본형 vs 참조형

### 값의 사용

기본형 : 값을 바로 사용 가능

참조형 : 실제 객체의 위치를 저장하므로 직접 찾아가야 함

- 객체 : `.` 으로 메모리 상에 저장된 객체를 찾아가야 함
- 배열 : `[]` 으로 메모리 상에 저장된 배열을 찾아가야 함  


**쉽게 이해하는 팁**  
기본형을 제외한 나머지는 모두 참조형이다.  
기본형은 소문자로 시작한다.  
Ex) `int` , `long` , `double` , `boolean`

- 개발자는 참조형인 클래스만 직접 정의할 수 있다.  
- 클래스는 대문자로 시작한다. 클래스는 모두 참조형이다.
  - `String`도 클래스다.

### 변수 대입

**대원칙 : 자바는 항상 변수의 값을 복사해서 대입한다.**  
기본형, 참조형 모두 항상 변수에 있는 값을 복사해서 대입한다.

참조형의 경우 객체의 위치를 가르키는 참조값이 복사됨

### 메서드 호출

**대원칙: 자바는 항상 변수의 값을 복사해서 대입한다.**  
메서드를 호출할 때 사용하는 매개변수(파라미터)도 결국 변수일 뿐이다.   

따라서 메서드를 호출할 때 매개변수에 값을 전달하는 것도 앞서 설명한 내용과 같이 값을 복사해서 전달한다.

그러나 이 값이 실제 값이냐, 참조(메모리 주소)값 이냐에 따라 동작이 달라진다.

**기본형** : 메서드로 기본형 데이터를 전달하면, 해당 값이 복사되어 전달된다. 이 경우, 메서드 내부에서 매개변수(파라미터)의 값을 변경해도, 호출자의 변수 값에는 영향이 없다.

**참조형** : 참조값이 복사되어 전달된다. 이 경우, 메서드 내부에서 매개변수(파라미터)로 전달된 객체의 멤버 변수를 변경하면, **호출자의 객체도 변경된다.**


## 변수와 초기화

### 변수의 종류
- 멤버 변수(필드): 클래스에 선언
- 지역 변수: 메서드에 선언, 매개변수도 지역 변수의 한 종류이다.  

**멤버 변수, 필드 예시** 
```java
public class Student {
    String name;
    int age;
    int grade; 
}
```
`name` , `age` , `grade` 는 멤버 변수이다.

**지역 변수 예시**
```java
public class MethodChange1 {
    public static void main(String[] args) {
        int a = 10;
        System.out.println("메서드 호출 전: a = " + a); changePrimitive(a); System.out.println("메서드 호출 후: a = " + a);
    }
    public static void changePrimitive(int x) {
        x = 20; 
    } 
}
```

`a` , `x` (매개변수)는 지역 변수이다.

#### 지역변수
지역변수는 특정 지역에서만 사용되는 변수를 의미

### 변수의 값 초기화

- 멤버 변수: 자동 초기화
  - 인스턴스의 멤버 변수 -> 인스턴스 생성 시 자동 초기화
  - 숫자(int) = `0`, boolean = `false`, 참조형 = `null`
  - 개발자가 초기값 지정 가능
- 지역 변수: 수동 초기화
  - **항상** 개발자가 직접 초기화 필요

## null

`null` : 값이 존재하지 않는, 없다는 뜻이다.

### GC - 아무도 참조하지 않는 인스턴스의 최후

C -> 개발자가 직접 인스턴스를 메모리에서 제거  
free를 해줘야 하는데 사람은 깜빡할수도 있음(메모리 누수)

자바의 JVM에는 garbage collection이라는 Heap 영역에서 동적으로 할당했던 메모리 중 필요 없게 된 메모리 객체(garbage)를 모아 주기적으로 제거하는 프로세스가 존재  

**아무도 참조하지 않는 인스턴스가 있으면 JVM의 GC(가비지 컬렉션)가 더 이상 사용하지 않는 인스턴스라 판단하고 해당 인스턴스를 자동으로 메모리에서 제거해준다.**

객체는 해당 객체를 참조하는 곳이 있으면, JVM이 종료할 때 까지 계속 생존한다. 그런데 중간에 해당 객체를 참조하는 곳이 모두 사라지면 그때 JVM은 필요 없는 객체로 판단다고 GC(가비지 컬렉션)를 사용해서 제거한다.

